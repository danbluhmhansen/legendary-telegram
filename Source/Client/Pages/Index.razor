@page "/"

@using System.Text.Json.Nodes

<PageTitle>Index</PageTitle>

<Heading Size=HeadingSize.Is1>Hello, world!</Heading>

Welcome to your new app.


<Card>
	<CardHeader>
		@if (!string.IsNullOrWhiteSpace(selected.Key) || selected.Value is not null)
		{
			<Button Outline Color=Color.Dark><Icon Name=IconName.Add /></Button>
			<Button Outline Color=Color.Dark><Icon Name=IconName.Remove /></Button>
		}
	</CardHeader>
	<CardBody>
		<TreeView Nodes=tree HasChildNodes=HasChildNodes GetChildNodes=GetChildNodes @bind-SelectedNode=selected>
			<NodeContent>
				@if (context.Value is JsonObject or JsonArray)
				{
					<Text>@context.Key</Text>
				}
				else if (!string.IsNullOrWhiteSpace(context.Key))
				{
					<Text>@context.Key: @context.Value.ToJsonString()</Text>
				}
				else
				{
					<Text>@context.Value.ToJsonString()</Text>
				}
			</NodeContent>
		</TreeView>
	</CardBody>
</Card>
